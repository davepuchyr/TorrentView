import type { Torrent } from './types';

const seriesRegex = /\bS\d{1,2}E\d{1,2}\b/i;
const resolutionRegex = /(\d{3,4})p/i;

const getResolution = (name: string): number | null => {
  const match = name.match(resolutionRegex);
  return match ? parseInt(match[1], 10) : null;
};

export const torrents: Torrent[] = [
  {
    hash: 'a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2',
    name: 'Ubuntu 24.04 LTS (Noble Numbat) Desktop AMD64',
    size: 5046586572,
    progress: 1,
    status: 'seeding',
    dlspeed: 0,
    upspeed: 1258291,
    eta: 0,
    ratio: 2.15,
    added_on: 1714521600,
    category: 'OS',
    is_series: false,
  },
  {
    hash: 'b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2a1',
    name: 'Blender 4.1.1 - Linux 1080p',
    size: 241172480,
    progress: 0.76,
    status: 'downloading',
    dlspeed: 5242880,
    upspeed: 51200,
    eta: 11,
    ratio: 0.02,
    added_on: 1715126400,
    category: 'Software',
    is_series: false,
  },
  {
    hash: 'c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2a1b2',
    name: 'Project Gutenberg - 70,000 Free Ebooks',
    size: 75161927680,
    progress: 1,
    status: 'completed',
    dlspeed: 0,
    upspeed: 0,
    eta: 0,
    ratio: 1.01,
    added_on: 1713571200,
    category: 'Books',
    is_series: false,
  },
  {
    hash: 'd4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2a1b2c3',
    name: 'LibreOffice 24.2.2 - Windows x86_64',
    size: 359661568,
    progress: 0.25,
    status: 'paused',
    dlspeed: 0,
    upspeed: 0,
    eta: Infinity,
    ratio: 0,
    added_on: 1715212800,
    category: 'Software',
    is_series: false,
  },
  {
    hash: 'e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2a1b2c3d4',
    name: 'Arch Linux 2024.05.01 - x86_64 720p',
    size: 1174405120,
    progress: 0.95,
    status: 'downloading',
    dlspeed: 2097152,
    upspeed: 10240,
    eta: 28,
    ratio: 0.45,
    added_on: 1715385600,
    category: 'OS',
    is_series: false,
  },
  {
    hash: 'f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2a1b2c3d4e5',
    name: 'Sintel - 4K UHD Version by The Blender Foundation 2160p',
    size: 4294967296,
    progress: 1,
    status: 'seeding',
    dlspeed: 0,
    upspeed: 786432,
    eta: 0,
    ratio: 5.8,
    added_on: 1712102400,
    category: 'Movies',
    is_series: false,
  },
  {
    hash: 'a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b3',
    name: 'Old documentary movie footage.mov',
    size: 2147483648,
    progress: 0.5,
    status: 'error',
    dlspeed: 0,
    upspeed: 0,
    eta: Infinity,
    ratio: 0.21,
    added_on: 1715040000,
    category: 'Video',
    is_series: false,
  },
  {
    hash: 'b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2a2',
    name: 'Complete Wikipedia English Dump - 2024',
    size: 23622320128,
    progress: 0.11,
    status: 'downloading',
    dlspeed: 10485760,
    upspeed: 81920,
    eta: 2001,
    ratio: 0.01,
    added_on: 1715472000,
    category: 'Reference',
    is_series: false,
  },
  {
    hash: 'c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2a1b3',
    name: 'Classical Music Public Domain Collection 1080p',
    size: 16106127360,
    progress: 1,
    status: 'completed',
    dlspeed: 0,
    upspeed: 0,
    eta: 0,
    ratio: 1.53,
    added_on: 1714867200,
    category: 'Music',
    is_series: false,
  },
  {
    hash: 'd4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2a1b2c4',
    name: 'NASA Image Library - High Resolution 2160p',
    size: 322122547200,
    progress: 0.05,
    status: 'paused',
    dlspeed: 0,
    upspeed: 0,
    eta: Infinity,
    ratio: 0,
    added_on: 1715299200,
    category: 'Images',
    is_series: false,
  },
  {
    hash: 'g7h8i9j0k1l2g7h8i9j0k1l2g7h8i9j0k1l2g7h8',
    name: 'Altered Carbon S01E03 1080p',
    size: 1073741824,
    progress: 1,
    status: 'seeding',
    dlspeed: 0,
    upspeed: 256000,
    eta: 0,
    ratio: 3.2,
    added_on: 1715558400,
    category: 'Series',
    is_series: true,
  },
  {
    hash: 'h8i9j0k1l2g7h8i9j0k1l2g7h8i9j0k1l2g7h8g7',
    name: 'The Good Place S04E13 720p',
    size: 536870912,
    progress: 1,
    status: 'completed',
    dlspeed: 0,
    upspeed: 0,
    eta: 0,
    ratio: 1.8,
    added_on: 1715644800,
    category: 'Series',
    is_series: true,
  },
].map(torrent => ({ 
    ...torrent, 
    is_series: seriesRegex.test(torrent.name),
    resolution: getResolution(torrent.name),
}));
